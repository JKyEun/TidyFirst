# PART 02. 관리

## 16. 코드 정리 구분

- 코드 정리는 별도의 PR로 만들고, 가급적 PR당 몇 개의 코드 정리만 넣는다.

- 기존에 작업할때 보통 코드정리와 기능 추가를 같이 작업하고 PR은 기능 추가 위주로 작성해서 같이 PR하는 경우가 많았는데, 코드 정리를 별도의 PR로 만들어서 코드 정리에 대한 리뷰를 받으면 코드 정리에 대한 피드백을 조금 더 쉽게 받을 수 있어서 좋을 것 같아 보이네요. 다른분들은 어떻게 하고 계신지 궁금합니다.

## 17. 연쇄적인 정리

- 아주 작은 단계로 나누어 코드를 정리하며 실험하는 과정을 통해 각 단계를 최적화하자.
- 코드 구조를 대대적으로 바꾸려고 코드 정리를 시작하는 경우가 많지만 너무 많이, 너무 빠르게 변경하지 않도록 주의하자.
- 작은 정리를 순차적으로 성공하는 것이 무리한 정리로 실패하는 것보다 시간을 아껴준다.

## 18. 코드 정리의 일괄 처리량

- 일괄 처리하는 코드 정리가 너무 많은 경우와 너무 적은 경우 그리고 적절한 경우의 범위를 판단할 때, 고려할 만한 비용은 무엇일까?
  - 충돌
    - 일괄 처리하는 코드 정리 작업이 많을수록, 통합 과정에서 지연 시간이 길어지고, 코드 정리 작업이 다른 사람의 진행 중인 작업과 충돌할 가능성도 커진다.
    - 코드 병합 과정에서 충돌이 발생할수록 작업을 병합하는 비용 또한 큰 폭으로 증가한다.
  - 상호작용
    - 다수의 코드 정리를 한번에 처리하다가 우연히 동작 변경을 할 수도 있다. 마찬 가지로 코드 정리 사이에 상호작용이 있으면 병합 비용은 급격히 증가한다.
  - 추측
    - 한 번에 처리하는 코드 정리가 많을수록 자연스럽게 더 많은 코드를 정리하게 되는데 이로 인해 예상치 못한 추가 비용이 발생한다.
- 많은 조직에서 하나의 변경 사항을 검토하고 배포하는 데 드는 고정 비용은 상당히 많다.
- 코드 정리 비용을 줄이고자 한다면, 코드 정리 개수를 늘려서 동작 변경에 소용되는 비용을 줄이자. 그러면, 검토 비용을 줄일 수 있다.

## 19. 리듬

- 동작 변경은 코드 안에 뭉쳐서 나타나는 경향이 있다.
- 계속 코드 정리를 한다면, 대부분의 변경 작업은 이미 정리된 코드 안에서 이루어지게 된다.

## 20. 얽힘 풀기

- 실타래를 풀려면 실이 엉켜 있다는 사실을 알아차려야 시작할 수 있다.

## 21. 코드 정리 시점

- 아예 안 한다면
- 나중에 정리하기
- 동작 변경 후에 코드 정리
- 코드 정리 후에 동작 변경
